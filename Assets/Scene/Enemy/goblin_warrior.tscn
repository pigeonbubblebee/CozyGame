[gd_scene load_steps=57 format=3 uid="uid://blg7okcffk2on"]

[ext_resource type="PackedScene" uid="uid://bx4xvh2o6pyxf" path="res://Assets/Scene/Enemy/chaser_enemy.tscn" id="1_wxgmc"]
[ext_resource type="Texture2D" uid="uid://cxben2scp8d62" path="res://Assets/Art/Character/Enemy/GoblinWarrior/goblin_warrior.png" id="2_2wko4"]
[ext_resource type="Texture2D" uid="uid://btkah23d4cb4e" path="res://Assets/Art/Character/Enemy/GoblinWarrior/goblin_warrior_slash1.png" id="3_jnkh0"]
[ext_resource type="Texture2D" uid="uid://dlb60mjotk3l1" path="res://Assets/Art/Character/Enemy/GoblinWarrior/goblin_warrior_slash2.png" id="4_nu4b8"]
[ext_resource type="Script" path="res://Assets/Scripts/Character/Enemy/Attacks/SlashAttack.cs" id="4_qbqx4"]
[ext_resource type="Script" path="res://Assets/Scripts/Character/Enemy/Attacks/EnemyAttackData.cs" id="5_54s1s"]
[ext_resource type="Script" path="res://Assets/Scripts/Character/Enemy/Attacks/RandomAttack.cs" id="5_g5g23"]
[ext_resource type="AudioStream" uid="uid://djvr87nihtnpt" path="res://Assets/Sound/SFX/Enemy/GoblinWarrior/slash1.wav" id="6_ngl5a"]
[ext_resource type="Script" path="res://Assets/Scripts/Core/Sound/AdjustableSound.cs" id="7_kf6e7"]
[ext_resource type="AudioStream" uid="uid://d2mb02t8w1xra" path="res://Assets/Sound/SFX/Enemy/GoblinWarrior/slash2.wav" id="11_vwpnf"]
[ext_resource type="AudioStream" uid="uid://dcurksme6irdh" path="res://Assets/Sound/SFX/Enemy/GoblinWarrior/slash2_2.wav" id="12_yhjss"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yfhya"]
size = Vector2(160, 296)

[sub_resource type="AtlasTexture" id="AtlasTexture_hnlnx"]
atlas = ExtResource("2_2wko4")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_qxsvb"]
atlas = ExtResource("2_2wko4")
region = Rect2(128, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_kbc6v"]
atlas = ExtResource("2_2wko4")
region = Rect2(256, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_nqqwp"]
atlas = ExtResource("2_2wko4")
region = Rect2(0, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_xeaa0"]
atlas = ExtResource("2_2wko4")
region = Rect2(128, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_r13g3"]
atlas = ExtResource("2_2wko4")
region = Rect2(256, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_eq5ig"]
atlas = ExtResource("2_2wko4")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_keeiv"]
atlas = ExtResource("2_2wko4")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_e4ndt"]
atlas = ExtResource("2_2wko4")
region = Rect2(128, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_sj43q"]
atlas = ExtResource("2_2wko4")
region = Rect2(256, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_7lulr"]
atlas = ExtResource("2_2wko4")
region = Rect2(0, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_26akm"]
atlas = ExtResource("2_2wko4")
region = Rect2(128, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_f3ljq"]
atlas = ExtResource("2_2wko4")
region = Rect2(256, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_ypn3h"]
atlas = ExtResource("3_jnkh0")
region = Rect2(0, 0, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_h4b2l"]
atlas = ExtResource("3_jnkh0")
region = Rect2(512, 0, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_h2pin"]
atlas = ExtResource("3_jnkh0")
region = Rect2(1024, 0, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_ifomv"]
atlas = ExtResource("3_jnkh0")
region = Rect2(1536, 0, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_a87s6"]
atlas = ExtResource("3_jnkh0")
region = Rect2(0, 256, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_epkp0"]
atlas = ExtResource("3_jnkh0")
region = Rect2(512, 256, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_cvw3h"]
atlas = ExtResource("3_jnkh0")
region = Rect2(1024, 256, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_1n58u"]
atlas = ExtResource("3_jnkh0")
region = Rect2(1536, 256, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_sp7ov"]
atlas = ExtResource("3_jnkh0")
region = Rect2(0, 512, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_7t45r"]
atlas = ExtResource("3_jnkh0")
region = Rect2(512, 512, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_37xrv"]
atlas = ExtResource("4_nu4b8")
region = Rect2(0, 0, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_mdc7h"]
atlas = ExtResource("4_nu4b8")
region = Rect2(512, 0, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_nn4yu"]
atlas = ExtResource("4_nu4b8")
region = Rect2(1024, 0, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_na8e8"]
atlas = ExtResource("4_nu4b8")
region = Rect2(1536, 0, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_dnr6v"]
atlas = ExtResource("4_nu4b8")
region = Rect2(0, 256, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_rjyr4"]
atlas = ExtResource("4_nu4b8")
region = Rect2(512, 256, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_konp8"]
atlas = ExtResource("4_nu4b8")
region = Rect2(1024, 256, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_s5ihp"]
atlas = ExtResource("4_nu4b8")
region = Rect2(1536, 256, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_604x6"]
atlas = ExtResource("4_nu4b8")
region = Rect2(0, 512, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_u346r"]
atlas = ExtResource("4_nu4b8")
region = Rect2(512, 512, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_p3v02"]
atlas = ExtResource("4_nu4b8")
region = Rect2(1024, 512, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_icp44"]
atlas = ExtResource("4_nu4b8")
region = Rect2(1536, 512, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_7ufvv"]
atlas = ExtResource("4_nu4b8")
region = Rect2(0, 768, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_s106m"]
atlas = ExtResource("4_nu4b8")
region = Rect2(512, 768, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_igqoi"]
atlas = ExtResource("4_nu4b8")
region = Rect2(1024, 768, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_pwj7c"]
atlas = ExtResource("4_nu4b8")
region = Rect2(1536, 768, 512, 256)

[sub_resource type="AtlasTexture" id="AtlasTexture_sct0p"]
atlas = ExtResource("2_2wko4")
region = Rect2(0, 0, 128, 128)

[sub_resource type="SpriteFrames" id="SpriteFrames_eyvvn"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_hnlnx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qxsvb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kbc6v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nqqwp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xeaa0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r13g3")
}],
"loop": true,
"name": &"aggro",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_eq5ig")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_keeiv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e4ndt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sj43q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7lulr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_26akm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f3ljq")
}],
"loop": true,
"name": &"patrol",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ypn3h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h4b2l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h2pin")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ifomv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a87s6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_epkp0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cvw3h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1n58u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sp7ov")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7t45r")
}],
"loop": true,
"name": &"slash1",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_37xrv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mdc7h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nn4yu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_na8e8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dnr6v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rjyr4")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_konp8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s5ihp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_604x6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u346r")
}],
"loop": true,
"name": &"slash2_1",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_p3v02")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_icp44")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7ufvv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s106m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_igqoi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pwj7c")
}],
"loop": true,
"name": &"slash2_2",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_sct0p")
}],
"loop": true,
"name": &"stagger",
"speed": 5.0
}]

[sub_resource type="Resource" id="Resource_g5hji"]
script = ExtResource("5_54s1s")
Damage = 8
InternalDamage = 4
PostureDamage = 66
DeflectPostureDamage = 20
Unstoppable = false
Type = 0
DeflectKnockbackMultiplier = 1.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kvya3"]
size = Vector2(568, 464)

[sub_resource type="Resource" id="Resource_albs0"]
script = ExtResource("5_54s1s")
Damage = 6
InternalDamage = 3
PostureDamage = 34
DeflectPostureDamage = 20
Unstoppable = false
Type = 0
DeflectKnockbackMultiplier = 1.0

[node name="goblin_warrior" type="Node2D"]

[node name="ChaserEnemy" parent="." instance=ExtResource("1_wxgmc")]
RetreatRange = 225.0
Speed = 150.0
MaxHealth = 80
MaxPosture = 200
DeathBlowDamage = 80

[node name="CollisionShape2D" parent="ChaserEnemy" index="0"]
position = Vector2(-16, -24)
shape = SubResource("RectangleShape2D_yfhya")

[node name="Bars" parent="ChaserEnemy/EnemyTemplate" index="0"]
position = Vector2(0, -192)

[node name="PostureBar" parent="ChaserEnemy/EnemyTemplate/Bars" index="0"]
offset_left = -192.0
offset_right = -64.0

[node name="HealthBar" parent="ChaserEnemy/EnemyTemplate/Bars" index="1"]
offset_left = -192.0
offset_right = -64.0

[node name="AnimatedSprite2D" parent="ChaserEnemy/EnemyTemplate" index="1"]
position = Vector2(9, -16)
sprite_frames = SubResource("SpriteFrames_eyvvn")
animation = &"slash2_2"

[node name="RandomSlash" type="Node2D" parent="ChaserEnemy/EnemyTemplate/AttackPattern" index="0"]
script = ExtResource("5_g5g23")
AttackPaths = Array[NodePath]([NodePath("Slash"), NodePath("SlashComboChain")])
AttackCooldown = 1.0
NotChainAttack = true

[node name="Slash" type="Node2D" parent="ChaserEnemy/EnemyTemplate/AttackPattern/RandomSlash"]
script = ExtResource("4_qbqx4")
SlashRange = 300.0
SlashCooldown = 1.0
LungeSpeed = 2800.0
LungeRange = 350.0
StopLungeFrame = 7
OnFrame = 6
OffFrame = 7
_attackAreaColliderPath = NodePath("SwordHit/Hitbox")
_attackAreaPath = NodePath("SwordHit")
_slashSFXPath = NodePath("SlashSFX")
AttackCooldown = 1.5
AnimationName = "slash1"
AttackLength = 1.0
NotChainAttack = true
_attackData = SubResource("Resource_g5hji")

[node name="SlashSFX" type="AudioStreamPlayer2D" parent="ChaserEnemy/EnemyTemplate/AttackPattern/RandomSlash/Slash"]
stream = ExtResource("6_ngl5a")
script = ExtResource("7_kf6e7")

[node name="SwordHit" type="Area2D" parent="ChaserEnemy/EnemyTemplate/AttackPattern/RandomSlash/Slash"]
collision_layer = 2
collision_mask = 2

[node name="Hitbox" type="CollisionShape2D" parent="ChaserEnemy/EnemyTemplate/AttackPattern/RandomSlash/Slash/SwordHit"]
position = Vector2(172, -112)
shape = SubResource("RectangleShape2D_kvya3")
disabled = true

[node name="SlashComboChain" type="Node2D" parent="ChaserEnemy/EnemyTemplate/AttackPattern/RandomSlash"]
script = ExtResource("4_qbqx4")
SlashRange = 300.0
SlashCooldown = 1.0
LungeSpeed = 2800.0
LungeRange = 350.0
StopLungeFrame = 8
OnFrame = 7
OffFrame = 8
_attackAreaColliderPath = NodePath("SwordHit/Hitbox")
_attackAreaPath = NodePath("SwordHit")
_slashSFXPath = NodePath("SlashSFX")
AttackCooldown = 2.3
AnimationName = "slash2_1"
AttackLength = 1.1
_chainedAttackPath = NodePath("Slash")
_attackData = SubResource("Resource_albs0")

[node name="SlashSFX" type="AudioStreamPlayer2D" parent="ChaserEnemy/EnemyTemplate/AttackPattern/RandomSlash/SlashComboChain"]
stream = ExtResource("11_vwpnf")
script = ExtResource("7_kf6e7")

[node name="SwordHit" type="Area2D" parent="ChaserEnemy/EnemyTemplate/AttackPattern/RandomSlash/SlashComboChain"]
collision_layer = 2
collision_mask = 2

[node name="Hitbox" type="CollisionShape2D" parent="ChaserEnemy/EnemyTemplate/AttackPattern/RandomSlash/SlashComboChain/SwordHit"]
position = Vector2(176, -112)
shape = SubResource("RectangleShape2D_kvya3")
disabled = true

[node name="Slash" type="Node2D" parent="ChaserEnemy/EnemyTemplate/AttackPattern/RandomSlash/SlashComboChain"]
script = ExtResource("4_qbqx4")
SlashRange = 300.0
SlashCooldown = 1.0
LungeSpeed = 2800.0
LungeRange = 230.0
StopLungeFrame = 3
OnFrame = 2
OffFrame = 3
_attackAreaColliderPath = NodePath("SwordHit/Hitbox")
_attackAreaPath = NodePath("SwordHit")
_slashSFXPath = NodePath("SlashSFX")
AttackCooldown = 2.0
AnimationName = "slash2_2"
AttackLength = 0.6
NotChainAttack = true
_attackData = SubResource("Resource_albs0")

[node name="SlashSFX" type="AudioStreamPlayer2D" parent="ChaserEnemy/EnemyTemplate/AttackPattern/RandomSlash/SlashComboChain/Slash"]
stream = ExtResource("12_yhjss")
script = ExtResource("7_kf6e7")

[node name="SwordHit" type="Area2D" parent="ChaserEnemy/EnemyTemplate/AttackPattern/RandomSlash/SlashComboChain/Slash"]
collision_layer = 2
collision_mask = 2

[node name="Hitbox" type="CollisionShape2D" parent="ChaserEnemy/EnemyTemplate/AttackPattern/RandomSlash/SlashComboChain/Slash/SwordHit"]
position = Vector2(176, -112)
shape = SubResource("RectangleShape2D_kvya3")
disabled = true

[node name="HurtboxCollider" parent="ChaserEnemy/EnemyTemplate/Hurtbox" index="0"]
position = Vector2(-16, -36)
shape = SubResource("RectangleShape2D_yfhya")

[editable path="ChaserEnemy"]
[editable path="ChaserEnemy/EnemyTemplate"]
